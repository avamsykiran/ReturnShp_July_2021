Angular
==================================================================================

    is a javascript SPA framework.


    Web Evolution
    ------------------------------------------------------------------------------

    static web site

            is a folder containing html docuemtns called web pages,
            hosted on a http server.

    dynamic web application

            the html content is generated by a server-side program,
            on the fly.

        Server                                                      Client

            Servlets +              <---------REQ (URL)-------------
            JSP (html templates)    HTML content
                                    is generated 
                                    on the server side
                                    -------(html + css + js) RESP----->  unload the existing page 
                                                                        and reload the new content

    SOA + SPA

            Service Orietned Application +
            Single Page Application

        Server                                                         Client

            SPA Bundle              <----------REQ1(URL)--------------
            (index.html + CSS +JS)  ---------Whole SPA Bundle -RESP -->  loads index.html 
                                                                            and executes the JS,
                                                                        Then - JS will takeover

            SOA                     <--------REQ ---------------------  by a js resource..
             (eg. REST api)         ------------data.json/.xml--------> data received by the JS 
                                                                        and the JS will generate html dynamically
                                                                        on the client.

    Need of NodeJS...?
    ------------------------------------------------------------------------------

        NodeJS is used on the development machine as a developemtn paltform,
        but not on the production server.


        Developing you app invloves
            1. Code Composition
            2. Transpelling (.ts into .js)
            3. Package you transpelled code into bundle
            4. Run test cases
            5. Mange dependencies (like angular/reactjs/vuejs)
            ....etc

            and for all of these we will use JS tools like
                    Transpelling            babel           babel runs on Nodejs
                    Packaging               webpack         webpack runs on Nodejs
                    Testing                 Jasmine         jasmine runs on Nodejs
                    Dependency Management   NPM             NPM runs on Nodejs

    Angular Evolution
    --------------------------------------------------------------------------------

        angularJS               javascript for coding

        Angular 2               typescript for coding
        Angular 4
                ....
                12

    Typescript?
    ---------------------------------------------------------------------------------

        typescript = javascript(ES6) + data types (type safty).

        JavaScript                      TypeScript
        -------------------------------------------------------------------------
         let x =56;                     let x:number = 56;

         function greet(userName){      function greet(userName:string):void {
             console.log(...)               console.log(....)
         }                              }

                                        interface User {
                                            userName:string;
                                            password:string;
                                            role:string;
                                        }

         let user = {                   let user : User = {    
             userName:'',                   userName:'',                   
             password:'',                   password:'',
             role:''                        role:''
         }                              }

         class Employee {               class Employee {
             constructor(id,name,sal){          id:number;
                this.id=id;                     name:string;
                this.name=name;                 sal:number;
                this.sal=sal;                   skills:string[];
             }                              constructor(id:number,name:string,sal:number){   
                                                this.id=id;
                                                this.name=name;
                                                this.sal=sal;                   
                                            }  
         }                              }

    Angular Archetecture
    ---------------------------------------------------------------------------------

        Any angular resource is a typescript/javascript class, these classes are decorated by
        decorators like
            @NgModule({})
            @Component({})
            @Pipe({})
            @Injectable({})
            @Directive({})

        These decorators accept the cofniguarational information as a JSON object called META DATA.

        An angular application is made up of

        1. Modules

                        Angular Modules are different from TS/JS Modueles.

                        An angular modules ia a logical group of components,pipes,directives and 
                        other sub-modules.

                        An angular app must lie inside one single module called ROOT MODULE.
                        ROOT MODULE can again contains sub-modules called FEATURE MODULE.

                                    ROOT MODULE (app.module.ts)
                                        |
                                        |
                                        |
                                    ------------------------------------------------------------
                                    |                   |                                       |
                                    HoemComponent       InventoryFeatureModule              SalesFeatureModule
                                    NavComponent            StockListComponent                  TakeOrderComponent
                                    ..etc                   AddStockComponent                   ConfirmOrderComponent

                        @NgModule({
                            declarations:[
                                //list of components,pipes,directive ..etc
                                //that belongs to this module
                            ],
                            imports:[
                                //list of sub-modules that are to be used in this module
                            ],
                            exports:[
                                //list of components,pipes,directive ..etc
                                //that can be exposed outside this module
                            ],
                            providers:[
                                //list of services belonging to this module
                            ],
                            bootstrap:[
                                //list of components that must be instatiated
                                //immidiatly after this module is loaded.
                            ]
                        })
                        export class SalesModule {}

        2. Components

                        in a single page application, we will have one and only one page,
                        and that page is composed of small smrt self-containing sections called Components.

                        Component = controller + template

                            controller      holds the state, provide event handling, provide service calls..etc
                                            its a .ts file
                            template        holds the html content to be rendered
                                            its a .html file


                        app.header.component.ts
                        ------------------------------
                        @Component({
                            selector:'app-header',
                            templateUrl:'app.header.component.html'
                        })         
                        export class HeaderComponent {
                            title:string;
                            constructor(){
                                title="My First Angular App";
                            }
                        }

                        app.header.component.html
                        --------------------------------
                        <header>
                            <h1>{{title}}</h1>
                        </header>

                        index.html
                        ----------------------------------
                        <html>
                            <head>
                             ....
                            </head>
                            <body>
                                <app-header></app-header>
                            </body>
                        </html>

        3. Directives

                        in-built Directives
                        -----------------------
                            Event Directive
                                click,dblClick,focus....ngSubmit
                            
                            Structural Directives
                                *ngIf
                                *ngFor
                                ngSwitch
                                    *ngSwitchCase

                            Others  
                                ngModel
                                ngForm
                                ngClass
                                routeLink
                                routerLinkActive
                                formGroup
                                formControlName ....etc


                        Custom Directives
                        ------------------------
                        @Directive({
                            name:'onlyNumbers'
                        })         
                        export class OnlyNumbersDirective {
                            ........
                        }
        4. Pipes
                        is a special angular arrangement used
                        to transform a value just before it is rendered.

                        inbuilt pipes
                        ------------------
                            lowercase
                            uppercase
                            titlecase
                            number
                            percent
                            currency
                            date
                            async
                            json

                        custom pipe
                        -------------
                        @Pipe({
                            name:'inWords'
                        })         
                        export class InWordsPipe implement NgTransform {
                            transform(value:any):any{
                                ..........
                            }
                        }
        5. Services

                        @Injectable({
                            providedIn:'root'
                        })         
                        export class MyAPICallService {
                            //..do rest api calls here....
                        }
        
    Angular CLI
    ---------------------------------------------------------------------------------

        Angular Command Line Interface

            is a tool used to manage the angular application resources and is the
               front line tool for testing,building,packing ...etc


        npm install -g @angular/cli@11.0.2

        ng --version

        ng new proj-name

        cd proj-namne
            -> ng serve --port portNumber -o                transpell and package and host on a dev server
            -> ng g component Name --skipTests
            -> ng g module Name 
            -> ng g directive Name --skipTests
            -> ng g pipe Name --skipTests
            -> ng g service Name --skipTests
            -> ng g class Name --skipTests
            -> ng g interface Name 
            -> ng g guard Name --skipTests
            -> ng g interceptor Name --skipTests
            
    Angular Data Binding
    ---------------------------------------------------------------------------------
        1. Interpolation

                {{angularExpression}}
            
        2. One way data binding

                <tagName [attribute]="field"></tagName>

                <tagName attribute="valueOfTheAttrib"></tagName>

                <table width="100"></table>

                <table [width]="x"></table>

        3. Two way data binding

                can happen only on form elements.

                it cna be done only with a built-in directive (attribute) ngModel,
                from FormsModule (@angular/forms)

                <input type="text" name="tb1" [(ngModel)]="userName" />

        4. Event Binding

                is to bind the eventHandler methods to the event directives (attributes).

                HTML Event Attributes           Angular Event Directives
                ------------------------------------------------------------------
                onClick                         click
                onDblClick                      dblclick
                onBlur                          blur
                onChange                        change
                onFocus                         focus
                onMouseOver                     mouseover
                onSubmit                        ngSubmit

                <tag (eventDirective)="method()"></tag>

        5. Style and Class Binding

                <tag [style.cssProperty]="field"></field>

                <tag [class]="{'class1':booleanFlag,'class2':booleanFlag2}"></tag>

    Angular Bootstrap Integration
    ---------------------------------------------------------------------------------

        npm install --save bootstrap@4.0.0

        node_modules
        ----------------
            bootstrap
                dist
                    css
                        bootstrap.min.css
        

        include this file into 'styles:[]' section in angular.json

    Angular Routing
    -------------------------------------------------------------

        RouterModule
                Routes      Route[]
                                path            urlSegment
                                component       Component
                                pathMatch       'startsWith'|'full'
                                redirectTo
                                canActivate
                                canDeactivate
                                canLoad
                                children

                .forRoot(routes)            globally on the entire app
                .forChild(routes)           local to a given module only

                <router-outlet></router-outlet>

                routerLink              directive to be used as an attrb on 'a' element

                routerLinkActive        holding the name of class 
                                        that has to be appleid to a link
                                        that is currently loaded on the page.

                Router                  is a service used to navigate programatically,
                                        .navigateByUrl("url")
                                        .navigate(["pathSeg"],{queryParams:{}...etc})

                ActivatedRoute          is a service used to retrive information
                                        about current route like
                                            current path
                                            query strings
                                            path params ...etc

    Angular Service
    -------------------------------------------------------------

            a service is used to hold bussiness logic.

    Angular Dependency Injection
    -------------------------------------------------------------
        angular can create objects for all of its resources
        and supply them to the place where they are needed.

        Root Injector           root module
            one injector per modules                     providers:[]
                one injector per component               providers:[]
                one injector per pipe                    providers:[]
                one injector per directive ..etc.,       providers:[]

        @Injectable({
            providedIn:'root'
        })
        class MySerive{

        }

    Angular Forms
    -------------------------------------------------------------      

            Template Driven Forms

                        FormsModule
                            ngForm
                            ngModel

                        write as lot on the template side
                        we will a very less control over the form from the controller side
                        it is hard to test using any javascript testing library

            Model Driven Forms / Reactive Forms

                        ReactiveFormsModule
                            FormGroup
                            FormControl

                            formControlName
                            formGroup

                        write less on tempalte side and more on the controller side
                        as a result we have more programtic control on the form and its validations
                        custome validations are easy to intergrate
                        the validation can be done asynchronously
                        easier to test.

            Form Validation Properties 
            ------------------------------------

                on ngForm and FormGroup
                            valid           
                            invalid

                on ngModel  and   FormControl
                            touched     untouched
                            dirty       prestine
                            invalid     valid

                            errors
                            errors.required
                            errors.min
                            errors.max
                            errors.pattern
                            errors.minlength
                            errors.maxlength
                            errors.email
                            ...etc

    Angular Components With Attributes,Events and Passable Content.
    -----------------------------------------------------------------    

        Passable Content
            <ng-content></ng-content>

        Component Attriubtes
            @Input()

        Emiting Events
            EventEmiter        
            @Output()
            
    RxJS
    -------------------------------------------------------------------

        is a reactive javascript library.

            let job = (observer) => { //this is our BG operation

                observer.next(resultantData); .//is to pass soem data to the FG operation

                observer.complete();//this is to indicate FG that BG is done

                observer.error(err);//this is to indicate FC that BG ran into an error
            }

            let ob = new Observable(job);

            ob.subscribe(       //this is going to happen in the FG
                (resultantData) => {}, //onNext
                (err) => {}, //onError
                ()=>{} //onComplete
            )

            rxjs Operators
            ----------------------------------------------

                map
                filter
                merge
                joinFork
                catchError
                    ...etc

    Angular LifeCycle & Hooks
    ----------------------------------------------------------------------------------

            constructor
            ngOnChanges                      when the data-bound property variations happen (form control gets renewed )
            ngOnInit                         When Angular has completed the creation and introduction of components
            ngDoCheck                        whenever there is a vitality to review the input property of a component 
                    ngAfterContentInit       when every content of the components gets introduced and checked for 
                                            the first time
                    ngAfterContentChecked   
                    ngAfterViewInit
                    ngAfterViewChecked
            ngOnDestroy

    HttpClient
    ------------------------------------------------------------------------------------

        HttpClientModule

            HttpClient
                        get(url)  :Observable
                        put(url,reqBody) :Observable
                        post(url,reqBody) :Observable
                        delete(url) :Observable

    Modularization
    --------------------------------------------------------------------------------
    Domain: A domain NgModule is organized around a feature, business domain, or user experience.
    Routed: The top component of the NgModule acts as the destination of a router navigation route.
    Routing: A routing NgModule provides the routing configuration for another NgModule.
    Service: A service NgModule provides utility services such as data access and messaging.
    Widget: A widget NgModule makes a component, directive, or pipe available to other NgModules.
    Shared: A shared NgModule makes a set of components, directives, and pipes available to other NgModules.

            NgModule	Declarations	Providers	    Exports	        Imported by
            ------------------------------------------------------------------------------
            Domain	        Yes	        Rare	        Top component	Another domain, AppModule
            Routed	        Yes	        Rare	        No	            None
            Routing	        No	        Yes (Guards)	RouterModule	Another domain (for routing)
            Service	        No	        Yes	            No	            AppModule
            Widget	        Yes	        Rare	        Yes	            Another domain
            Shared	        Yes	        No	            Yes	            Another domain

    ng g module Shared
    ng g module Widgets
    ng g module Services --module app.module

    lazy loading a domain module
    -------------------------------------------------------------
    ng g module EntityDoamin --route entity --module app.module

    Router Guards
    ----------------------------------------------------------------------------------

    is used to protect a route from being accessed
    only when it is allowed to access.

    Angular provides four types of RouterGuards (interfaces)

        CanActivate            control if a route can be entered or not
        CanDeactivate          control if a route can be left or not
        CanLoad                controls if a lazy loaded route should be laoded or not
        CanChildActivate       control if child-routes can be entered or not




        


